{"version":3,"sources":["app.js","refs.js","gallery-markup.js","js/script.js"],"names":["preview","original","description","listElem","document","querySelector","modalBoxElem","modalImageElem","closeModalBtnElem","modalBackdropElem","createGalleryMarkup","items","markup","map","join","refs","listMarkup","galleryItems","onGalleryNavClick","evt","preventDefault","target","nodeName","openModal","dataset","source","getAttribute","imageURL","imageAltAttrValue","setModalImageAttributes","srcAttrValue","altAttrValue","setAttribute","closeModal","classList","remove","removeEventListener","window","onKeyboardBtnClick","key","isEscBtnPressed","isLeftBtnPressed","isRightBtnPressed","currentGalleryItemIndex","indexOf","find","item","updateImageAttributesAndImageURL","itemIndex","length","add","addEventListener","insertAdjacentHTML"],"mappings":"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","file":"script.16be2dc8.js","sourceRoot":"..\\src","sourcesContent":["export default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n","export default {\r\n  listElem: document.querySelector('.js-gallery'),\r\n  modalBoxElem: document.querySelector('.js-lightbox'),\r\n  modalImageElem: document.querySelector('.lightbox__image'),\r\n  closeModalBtnElem: document.querySelector('[data-action=\"close-lightbox\"]'),\r\n  modalBackdropElem: document.querySelector('.lightbox__overlay'),\r\n};\r\n","export const createGalleryMarkup = items => {\r\n  const markup = items\r\n    .map(({ preview, original, description }) => {\r\n      return `<li class=\"gallery__item\">\r\n  <a\r\n    class=\"gallery__link\"\r\n    href=\"${original}\"\r\n  >\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=\"${preview}\"\r\n      data-source=\"${original}\"\r\n      alt=\"${description}\"\r\n    />\r\n  </a>\r\n</li>`;\r\n    })\r\n    .join('');\r\n  return markup;\r\n};\r\n","import galleryItems from '../app.js';\nimport refs from '../refs.js';\nimport { createGalleryMarkup } from '../gallery-markup';\n\nconst { listElem, modalBoxElem, modalImageElem, closeModalBtnElem, modalBackdropElem } = refs;\nconst listMarkup = createGalleryMarkup(galleryItems);\n\nlistElem.insertAdjacentHTML('beforeend', listMarkup);\nlistElem.addEventListener('click', onGalleryNavClick);\n\nfunction onGalleryNavClick(evt) {\n  evt.preventDefault();\n  const isImageElem = evt.target.nodeName === 'IMG';\n\n  if (!isImageElem) return;\n  const bigImageURL = evt.target.dataset.source;\n  const imageAltAttrValue = evt.target.getAttribute('alt');\n\n  openModal(bigImageURL, imageAltAttrValue);\n}\n\nfunction openModal(imageURL, imageAltAttrValue) {\n  modalBoxElem.classList.add('is-open');\n  setModalImageAttributes(imageURL, imageAltAttrValue);\n\n  closeModalBtnElem.addEventListener('click', closeModal);\n  modalBackdropElem.addEventListener('click', closeModal);\n  window.addEventListener('keydown', onKeyboardBtnClick);\n\n  function setModalImageAttributes(srcAttrValue = '', altAttrValue = '') {\n    modalImageElem.setAttribute('src', srcAttrValue);\n    modalImageElem.setAttribute('alt', altAttrValue);\n  }\n\n  function closeModal() {\n    modalBoxElem.classList.remove('is-open');\n    setModalImageAttributes();\n\n    closeModalBtnElem.removeEventListener('click', closeModal);\n    modalBackdropElem.removeEventListener('click', closeModal);\n    window.removeEventListener('keydown', onKeyboardBtnClick);\n  }\n\n  function onKeyboardBtnClick({ key }) {\n    const isEscBtnPressed = key === 'Escape';\n    const isLeftBtnPressed = key === 'ArrowLeft';\n    const isRightBtnPressed = key === 'ArrowRight';\n    const currentGalleryItemIndex = galleryItems.indexOf(\n      galleryItems.find(item => item.original === imageURL),\n    );\n\n    if (isEscBtnPressed) closeModal();\n\n    if (isLeftBtnPressed && currentGalleryItemIndex > 0) {\n      imageURL = updateImageAttributesAndImageURL(currentGalleryItemIndex - 1);\n    }\n\n    if (isRightBtnPressed && currentGalleryItemIndex < galleryItems.length - 1) {\n      imageURL = updateImageAttributesAndImageURL(currentGalleryItemIndex + 1);\n    }\n\n    function updateImageAttributesAndImageURL(itemIndex) {\n      setModalImageAttributes(\n        galleryItems[itemIndex].original,\n        galleryItems[itemIndex].description,\n      );\n      return galleryItems[itemIndex].original;\n    }\n  }\n}\n"]}